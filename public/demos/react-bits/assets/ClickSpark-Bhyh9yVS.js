import{r as i,j as E}from"./index-CKqfvLoB.js";const q=({sparkColor:m="#fff",sparkSize:v=10,sparkRadius:w=15,sparkCount:f=8,duration:d=400,easing:x="ease-out",extraScale:R=1,children:p})=>{const l=i.useRef(null),g=i.useRef([]),y=i.useRef(null);i.useEffect(()=>{const e=l.current;if(!e)return;const t=e.parentElement;if(!t)return;let s;const c=()=>{const{width:r,height:a}=t.getBoundingClientRect();(e.width!==r||e.height!==a)&&(e.width=r,e.height=a)},o=()=>{clearTimeout(s),s=setTimeout(c,100)},n=new ResizeObserver(o);return n.observe(t),c(),()=>{n.disconnect(),clearTimeout(s)}},[]);const T=i.useCallback(e=>{switch(x){case"linear":return e;case"ease-in":return e*e;case"ease-in-out":return e<.5?2*e*e:-1+(4-2*e)*e;default:return e*(2-e)}},[x]);i.useEffect(()=>{const e=l.current;if(!e)return;const t=e.getContext("2d");let s;const c=o=>{y.current||(y.current=o),t.clearRect(0,0,e.width,e.height),g.current=g.current.filter(n=>{const r=o-n.startTime;if(r>=d)return!1;const a=r/d,u=T(a),h=u*w*R,b=v*(1-u),M=n.x+h*Math.cos(n.angle),j=n.y+h*Math.sin(n.angle),A=n.x+(h+b)*Math.cos(n.angle),F=n.y+(h+b)*Math.sin(n.angle);return t.strokeStyle=m,t.lineWidth=2,t.beginPath(),t.moveTo(M,j),t.lineTo(A,F),t.stroke(),!0}),s=requestAnimationFrame(c)};return s=requestAnimationFrame(c),()=>{cancelAnimationFrame(s)}},[m,v,w,f,d,T,R]);const C=e=>{const t=l.current;if(!t)return;const s=t.getBoundingClientRect(),c=e.clientX-s.left,o=e.clientY-s.top,n=performance.now(),r=Array.from({length:f},(a,u)=>({x:c,y:o,angle:2*Math.PI*u/f,startTime:n}));g.current.push(...r)};return E.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},onClick:C,children:[E.jsx("canvas",{ref:l,style:{width:"100%",height:"100%",display:"block",userSelect:"none",position:"absolute",top:0,left:0,pointerEvents:"none"}}),p]})};export{q as default};
