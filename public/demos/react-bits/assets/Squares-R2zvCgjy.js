import{r as s,j as b}from"./index-CKqfvLoB.js";const j=({direction:i="right",speed:v=1,borderColor:g="#999",squareSize:t=40,hoverFillColor:y="#222",className:k=""})=>{const w=s.useRef(null),m=s.useRef(null),L=s.useRef(),X=s.useRef(),n=s.useRef({x:0,y:0}),c=s.useRef(null);return s.useEffect(()=>{const e=w.current,o=e.getContext("2d"),x=()=>{e.width=e.offsetWidth,e.height=e.offsetHeight,L.current=Math.ceil(e.width/t)+1,X.current=Math.ceil(e.height/t)+1};window.addEventListener("resize",x),x();const Y=()=>{o.clearRect(0,0,e.width,e.height);const r=Math.floor(n.current.x/t)*t,l=Math.floor(n.current.y/t)*t;for(let a=r;a<e.width+t;a+=t)for(let h=l;h<e.height+t;h+=t){const d=a-n.current.x%t,f=h-n.current.y%t;c.current&&Math.floor((a-r)/t)===c.current.x&&Math.floor((h-l)/t)===c.current.y&&(o.fillStyle=y,o.fillRect(d,f,t,t)),o.strokeStyle=g,o.strokeRect(d,f,t,t)}const u=o.createRadialGradient(e.width/2,e.height/2,0,e.width/2,e.height/2,Math.sqrt(e.width**2+e.height**2)/2);u.addColorStop(0,"rgba(0, 0, 0, 0)"),o.fillStyle=u,o.fillRect(0,0,e.width,e.height)},M=()=>{const r=Math.max(v,.1);switch(i){case"right":n.current.x=(n.current.x-r+t)%t;break;case"left":n.current.x=(n.current.x+r+t)%t;break;case"up":n.current.y=(n.current.y+r+t)%t;break;case"down":n.current.y=(n.current.y-r+t)%t;break;case"diagonal":n.current.x=(n.current.x-r+t)%t,n.current.y=(n.current.y-r+t)%t;break}Y(),m.current=requestAnimationFrame(M)},R=r=>{const l=e.getBoundingClientRect(),u=r.clientX-l.left,a=r.clientY-l.top,h=Math.floor(n.current.x/t)*t,d=Math.floor(n.current.y/t)*t,f=Math.floor((u+n.current.x-h)/t),p=Math.floor((a+n.current.y-d)/t);(!c.current||c.current.x!==f||c.current.y!==p)&&(c.current={x:f,y:p})},E=()=>{c.current=null};return e.addEventListener("mousemove",R),e.addEventListener("mouseleave",E),m.current=requestAnimationFrame(M),()=>{window.removeEventListener("resize",x),cancelAnimationFrame(m.current),e.removeEventListener("mousemove",R),e.removeEventListener("mouseleave",E)}},[i,v,g,y,t]),b.jsx("canvas",{ref:w,className:`squares-canvas ${k}`})};export{j as default};
